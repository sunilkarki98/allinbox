# ============================================================================
# AllInBox Production Environment Configuration
# ============================================================================
# For deployment: GCP VM (Backend + Workers) + Vercel (Frontend) + Supabase (DB)
# Copy to .env and fill in actual values

# ============================================================================
# DATABASE - Supabase (Managed PostgreSQL)
# ============================================================================
# Get from Supabase: Settings → Database → Connection Pooling
# Format: postgresql://postgres:PASSWORD@db.XXX.supabase.co:6543/postgres?sslmode=require
DATABASE_URL=postgresql://postgres:alliboxdb123@db.zjtkncpkjopedcydpupi.supabase.co:5432/postgres?sslmode=require

# ============================================================================
# CACHE & JOB QUEUE - Dragonfly (Local on GCP VM)
# ============================================================================
REDIS_URL=redis://localhost:6379

# ============================================================================
# APP CONFIGURATION
# ============================================================================
NODE_ENV=production
PORT=3001

# GCP VM public IP or custom domain
# Example: https://api.example.com or http://35.123.45.67:3001
API_URL=https://YOUR_GCP_DOMAIN_OR_IP.com

# Vercel frontend URL
# Example: https://allinbox.vercel.app
FRONTEND_URL=https://YOUR_FRONTEND_APP.vercel.app

# Vercel admin URL
# Example: https://allinbox-admin.vercel.app
ADMIN_URL=https://YOUR_ADMIN_APP.vercel.app

# ============================================================================
# SECURITY - Generate with: openssl rand -hex 32
# ============================================================================
JWT_SECRET=GENERATE_WITH_openssl_rand_-hex_32
ENCRYPTION_KEY=GENERATE_WITH_openssl_rand_-hex_32

# ============================================================================
# EXTERNAL INTEGRATIONS (Optional - leave blank if not using)
# ============================================================================
GEMINI_API_KEY=your_gemini_api_key
META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_REDIRECT_BASE_URL=https://YOUR_GCP_DOMAIN_OR_IP.com/api/platforms/callback
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=https://YOUR_GCP_DOMAIN_OR_IP.com/api/auth/callback/google
WEBHOOK_VERIFY_TOKEN=unique_random_token

# ============================================================================
# VERCEL FRONTEND ENVIRONMENT VARIABLES
# ============================================================================
# Add these to Vercel (Frontent App) Dashboard
NEXT_PUBLIC_API_URL=https://YOUR_GCP_DOMAIN_OR_IP.com

# Add these to Vercel (Admin App) Dashboard
NEXT_PUBLIC_API_URL=https://YOUR_GCP_DOMAIN_OR_IP.com

# --- WEBHOOKS & EXTERNALS ---
WEBHOOK_VERIFY_TOKEN=secure_token_for_meta_webhooks
GEMINI_API_KEY=your_gemini_api_key

# --- SYSTEM ---
NODE_ENV=production
PORT=3001
