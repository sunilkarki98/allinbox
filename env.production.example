# -----------------------------------------------------------------------------
# PRODUCTION ENVIRONMENT CONFIGURATION (GCP VM)
# Rename this file to .env on your server
# -----------------------------------------------------------------------------

# --- INFRASTRUCTURE ---
# These hostnames (postgres, dragonfly) match the service names in docker-compose.prod.yml
POSTGRES_USER=postgres
POSTGRES_PASSWORD=secure_postgres_password_change_me
POSTGRES_DB=unified_inbox
POSTGRES_PORT=5432
# Internal Docker URL
DATABASE_URL=postgresql://postgres:secure_postgres_password_change_me@postgres:5432/unified_inbox

# Redis / Dragonfly
# Internal Docker URL
REDIS_URL=redis://dragonfly:6379

# --- APPLICATION URLs (EXTERNAL) ---
# REPLACE <YOUR_VM_IP_OR_DOMAIN> with your actual Public IP or Domain Name
# Do NOT include port numbers (Nginx handles port 80/443)

# Public URL for the Frontend
FRONTEND_URL=http://<YOUR_VM_IP_OR_DOMAIN>

# Public URL for the Admin Portal
ADMIN_URL=http://<YOUR_VM_IP_OR_DOMAIN>/admin-portal

# Public URL for the Backend API (Used by Frontend/Admin browser clients)
NEXT_PUBLIC_API_URL=http://<YOUR_VM_IP_OR_DOMAIN>/api

# Internal API URL (Used by Next.js SSR to talk to Backend within Docker network)
# This stays as 'http://backend:3001' because it's internal container-to-container
API_URL=http://backend:3001

# --- SECURITY ---
# GENERATE NEW SECURE KEYS FOR PRODUCTION!
# Run `openssl rand -base64 32` to generate these
JWT_SECRET=Oyygf3fTW8r8OwvkC/kC24X8+wq5QD1JIYG3NcWif5o=
ENCRYPTION_KEY=ab7ce5003db33d13d50d5db51fe071305ab0153f221cebb0c89a569f752068cc

# --- OAUTH ---
# Update Redirect URIs to match your Public Domain/IP
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://<YOUR_VM_IP_OR_DOMAIN>/api/auth/callback/google

META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_REDIRECT_BASE_URL=http://<YOUR_VM_IP_OR_DOMAIN>/api/platforms/callback

# --- WEBHOOKS & EXTERNALS ---
WEBHOOK_VERIFY_TOKEN=secure_token_for_meta_webhooks
GEMINI_API_KEY=your_gemini_api_key

# --- SYSTEM ---
NODE_ENV=production
PORT=3001
